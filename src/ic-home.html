
<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<link rel="import" href="../bower_components/iron-a11y-keys/iron-a11y-keys.html">

<link rel="import" href="shared-styles.html">

<dom-module id="ic-home">
    <template>
        <style include="iron-flex iron-flex-alignment">
            :host {
                display: flex;
                flex-direction:column;
                align-items:center;
                justify-content:center;
                height:100%;
                
            }

            paper-button {
                text-transform: none;
                color: #ffffff;
                background-color: #ef6751;
                margin: 5px;
                padding: 7px 35px;
                border-radius: 5px;
                witdh: 250px;
            }

            paper-input{
                margin: 5px;
                width:350px;

                --paper-input-container:{
                    border-radius: 5px;
                    background-color:rgba(255, 255, 255, 0.5);
                    text-align:center;
                };
                --paper-input-container-underline : {
                    height : 0;
                };
                --paper-input-container-underline: {
                    height: 0;
                };
                --paper-input-container-underline-focus: {
                    height: 0;
                };
                --paper-input-container-underline-disabled: {
                    height: 0;
                };
                --paper-input-container-label : {                    
                    color: #313131;
                };
            }
            
            #content{
            	align-items: center;
			    flex-grow: 1;
			    justify-content: center;
			    width: 100%;
            }
            
            #logpart{
                background-image:url('../images/home/content.jpg');    
                background-repeat: no-repeat;
                background-size: cover; 
                width: 100%;   	
                flex-grow: 5;
			    justify-content: center;
			    align-items: center;
            }
            
            #middle{
            	background-image:url('../images/home/middlepart.jpg');    
                background-repeat: no-repeat;
                background-size: cover; 
            	flex-grow: 3;
            	width: 100%;
            }
            
            #footer{
            	background-image:url('../images/home/footer.jpg');    
                background-repeat: no-repeat;
                background-size: cover; 
            	height: 50px;
            	width: 100%;
            }
        </style>

		<div id="content" class="layout vertical">
			<div id="logpart" class="layout vertical justified-center">
		        <paper-input no-label-float always-float-label="false" value="{{username}}"></paper-input>
		        <paper-input id="input" no-label-float always-float-label="false" value="{{password}}" type="password"></paper-input>
		
		        <paper-button on-tap="signIn">> Log on</paper-button> 
	        </div>
	        <div id="middle"></div> 
        </div>      

        <div id="footer">&nbsp</div>
        
        <iron-a11y-keys id="a11y" target="[[target]]" keys="enter"
                    on-keys-pressed="signIn"></iron-a11y-keys>
    </template>
    <script>
        Polymer({
            is: 'ic-home',

            properties: {
                credentials: {
                    type: Array,
                    value: [
                        {
                            username: 'Benjamin',
                            password: 'password'
                        },
                        {
                            username: 'Charley',
                            password: 'password'
                        },
                    ]
                },

                logged: {
                    type: Boolean,
                    value: false,
                    notify: true
                },
                
                target: {
                	type: Object,
                	value: function(){
                		return this;
                	}
                }
            },

            signIn: function (e) {
                this.credentials.every(function (elt) {
                    if (this.username == elt.username && this.password == elt.password) {
                        this.set('logged', true);
                        return false;
                    }

                    return true;
                }.bind(this));
            }
        });
    </script>
</dom-module>
